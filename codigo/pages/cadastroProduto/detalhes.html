<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Detalhes do Produto</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link href="../avaliações/style.css" rel="stylesheet">
</head>

<body>
    <header class="container-fluid">
        <div class="d-flex flex-column flex-md-row align-items-center">
            <a href="../index.html"><img src="../imagens/logoPet.png" width="130px" height="100px" alt="Logo" class="me-3"></a>
            <nav class="d-flex flex-column flex-md-row justify-content-between w-100">
                <ul class="nav flex-column flex-md-row">
                    <li class="nav-item">
            <a id="corT" class="nav-link fw-bold fs-5 fs-md-2" href="../cadastroLocal/local.html">Locais</a>
          </li>
          <li class="nav-item">
            <a id="corT" class="nav-link fw-bold fs-5 fs-md-2" href="../cadastroProduto/produto.html">Produtos</a>
          </li>
          <li class="nav-item">
            <a id="corT" class="nav-link fw-bold fs-5 fs-md-2" href="../cadastroServicos/servicos.html">Serviços</a>
          </li>
          <li class="nav-item">
            <a id="corT" class="nav-link fw-bold fs-5 fs-md-2" href="../cadastroEventos/evento.html">Eventos</a>
          </li>
          <li class="nav-item">
            <a id="corT" class="nav-link fw-bold fs-5 fs-md-2" href="../posts/post.html">Posts</a>
          </li>
                </ul>
                <ul class="nav flex-column flex-md-row">
                    <li class="nav-item">
                        <a id="logarLink" class="nav-link text-light rounded-4 px-3 fs-5 fs-md-4 fw-bold" href="../login/signup/loginForm.html" style="background-color: #d6660a;">Logar</a>
                    </li>
                    <li class="nav-item mt-2 mt-md-0 ms-md-2">
                        <a id="inscreverLink" class="nav-link text-light rounded-4 px-3 fs-5 fs-md-4 fw-bold" href="../login/signup/cadastroForm.html" style="background-color: #d6660a;">Se inscrever</a>
                    </li>
                    <li class="nav-item mt-2 mt-md-0 ms-md-2">
                        <a id="contaIcon" class="nav-link text-light rounded-4 px-3 fs-5 fs-md-4 fw-bold" href="../login/signup/perfil.html" style="background-color: #d6660a;">Conta</a>
                    </li>
                </ul>
            </nav>
        </div>
        <hr style="border-top: 2px solid black; width: 100%;margin-top: 0px;">
    </header>

    <div class="container mt-5">
        <div id="productDetails" class="row"></div>
    <div class="BtnAvaliacoes">
        <button id="openModal" class="star-btn">
            <div class="Rating-outer">
              <div class="row">
                <div class="column">
                  <h2></h2>
                </div>
                <div class="column">
                  <div class="star-outer-outer">
                    <div class="star-inner-outer"></div>
                  </div>
                </div>
              </div>
              <p></p>
            </div>
          </button>
        
          <div class="modal" id="modal">
            <div class="modal-inner">
              <h2>Avaliações do Produto</h2>
              <hr style="border-top: 1px solid black; width: 100%;margin-top: 0px;">
              <div class="row">
                <div class="column">
                  <div class="Rating">
                    <div class="row">
                      <div class="column">
                        <h2></h2>
                      </div>
                      <div class="column">
                        <div class="star-outer">
                          <div class="star-inner"></div>
                        </div>
                      </div>
                    </div>
                    <p></p>
                  </div>
                  <div class="rating-progress"></div>
                </div>
                <div class="column">
                  <h2>Avaliações em destaque</h2>
                  <div class="comments"></div>
                  <a class="nav-link text-light rounded-4 px-3 fs-5 fs-md-4 fw-bold" href="../avaliações/avaliarProduto.html" style="background-color:#d6660a;">Avaliar Produto</a>
                </div>
              </div>
              <button id="closeModal" class="nav-link text-light rounded-4 px-3 fs-5 fs-md-4 fw-bold" style="background-color:#d6660a;">Fechar</button>
            </div>
          </div>
        
          <script src="../avaliações/avaliações.js"></script>
    </div>
            <div class="BotaoCarrinho">
                <button class="btn btn-primary mt-3" id="addToCartButton">Adicionar ao Carrinho</button>
            </div>
    </div>


    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const produtoId = localStorage.getItem('produtoId');

            fetch(`https://api-pet-pugp.onrender.com/produtos/${produtoId}`)
                .then(response => response.json())
                .then(produto => {
                    const productDetails = document.getElementById('productDetails');

                    productDetails.innerHTML = `
                        <div class="col-md-6">
                            <img src="${produto.imagem}" class="img-fluid" alt="${produto.nome}">
                        </div>
                        <div class="col-md-6">
                            <h1>${produto.nome}</h1>
                            <p class="descricao">Roupa 100% algodão, confortável e macia para seu melhor amigo.</p>
                                <p class="descricao">R$89,90</p>
                        </div>
                    `;

                    // Adiciona o event listener ao botão
                    document.getElementById('addToCartButton').addEventListener('click', function() {
                        alert('Produto adicionado ao carrinho!');
                    });
                })
                .catch(error => console.error('Erro ao carregar detalhes do produto:', error));
        });
    </script>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
</body>

</html>
